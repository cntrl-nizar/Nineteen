<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Scroll Demo</title>
<style>
  body { margin:0; font-family: sans-serif; }
  canvas { display: block; position: fixed; top:0; left:0; z-index:0; }
  section {
    position: relative;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
    z-index:1;
    pointer-events: none;
  }
  .fixed-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 2;
    padding: 12px 20px;
    background:#ff4081;
    color:white;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-size:16px;
  }
</style>
</head>
<body>

<button class="fixed-btn" onclick="alert('Hi!')">Say Hi</button>

<section style="background:rgba(0,0,0,0.3)">Section 1</section>
<section style="background:rgba(0,0,50,0.3)">Section 2</section>
<section style="background:rgba(50,0,0,0.3)">Section 3</section>

<script type="module">
import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
import { GLTFLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';
import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';

// Scene & Camera
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000);
camera.position.set(0, 0, 5);

// Renderer
const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.body.appendChild(renderer.domElement);

// Controls
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;

// Lights
scene.add(new THREE.AmbientLight(0x888888));
const dirLight = new THREE.DirectionalLight(0xffffff, 1.2);
dirLight.position.set(5,5,5);
scene.add(dirLight);

// Load 3D model
let model;
const loader = new GLTFLoader();
loader.load(
  'https://threejs.org/examples/models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf',
  (gltf) => {
    model = gltf.scene;
    model.scale.set(2,2,2);
    scene.add(model);
  },
  undefined,
  (err) => console.error(err)
);

// Handle resize
window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});

// Scroll animation
window.addEventListener('scroll', ()=>{
  if(!model) return;
  const scrollPercent = window.scrollY / (document.body.scrollHeight - window.innerHeight);
  model.rotation.y = scrollPercent * Math.PI * 4; // rotate a lot
  model.position.y = -scrollPercent * 5; // move down
  model.scale.setScalar(2 + scrollPercent*2); // scale up visibly
});

// Give page enough height to scroll
document.body.style.height = '300vh';

// Animate
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene, camera);
}
animate();
</script>

</body>
</html>
